<div ng-controller="RegisterPopupController" class="popup register animated {{animate}}" ng-show="visible">
    <div class="popup-content">
        <div class="close">
            <i class="fa fa-remove" ng-click="close()"></i>
        </div>
        <div class="circle-border">
            <i class="fa fa-user"></i>
        </div>
        <img ng-if="isLoad" class="form-loading" src="/img/balls.gif" />
        <form ng-if="!isLoad && !registered" autocomplete="false">
            <p class="message-block" ng-if="error.has_error">
                <span>{{error.message}}</span>
            </p>
            <div class="form-group">
                <label>นามแฝง *</label>
                <input type="text" class="form-control" ng-model="model.username" />
            </div>
            <div class="form-group">
                <label>รหัสผ่าน *</label>
                <input type="password" class="form-control" ng-model="model.password" />
            </div>
            <div class="form-group">
                <label>อีเมลล์</label>
                <input type="text" class="form-control" ng-model="model.email" />
            </div>
            <div class="form-group">
                <label>เบอร์โทรศัพท์</label>
                <input type="text" class="form-control" ng-model="model.telephone" />
            </div>
            <div class="form-group">
                <label>
                    <input type="checkbox" class="form-control" ng-model="model.agree" />
                    คุณยอมรับข้อตกลงที่ทางเว็บไซต์ได้กำหนดขึ้นหรือไม่?
                </label>
            </div>
            <div class="button-group">
                <button type="button" class="btn btn-trans" ng-click="register()">สมัครใช้งาน</button> |
                <a href="/agreement">ข้อตกลงในการใช้งานเว็บไซต์</a>
            </div>
        </form>
        <div class="user-profile" ng-if="registered && !isLoad">
            <h2>คุณได้สมัครเข้าใช้งานสำเร็จ</h2>
            <div class="user-name">
                <label>นามแฝง: </label>
                <span>{{registerModel.username}}</span>
            </div>
            <p>กรุณาจำนามแฝงและรหัสผ่านของท่านไว้เพื่อใช้ครั้งถัดไปเมื่อระบบร้องขอ</p>
            <div>
                <button type="button" class="btn btn-trans" ng-click="toLogin()">ลงชื่อเข้าใช้งาน</button>
            </div>
        </div>
    </div>
</div>